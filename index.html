<!DOCTYPE HTML>
<!-- saved from url=(0036)http://keleyi.com/keleyi/phtml/html5/25/ -->
<!DOCTYPE html>
<html>

<head>
	<meta name="Author" content="Gerard Ferrandez at http://keleyi.com/">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="HandheldFriendly" content="true">
	<meta name="description"
		content="程序员给女朋友用HTML5制作的3D相册，使用鼠标拖拽，能看到3D旋转效果，点击相片，相片能放大，移近。程序员发挥自己的专长，这是那些不懂编程的人望尘莫及的。本相册使用了HTML5的画布技术，需要谷歌浏览器或火狐浏览器等现代浏览器才能正常观看。">
	<meta name="keywords" content="canvas,3D,perspective,texturing,gallery">
	<link href="slider-wb.css" rel="stylesheet">
	<title>宿舍风采</title>
	<style>
		html {
			overflow: visible;
			-ms-touch-action: none;
			-ms-content-zooming: none;
		}

		body {
			position: absolute;
			margin: 0px;
			padding: 0px;
			background: #fff;
			width: 100%;
			height: 100%;
		}

		#canvas {
			position: absolute;
			width: 100%;
			height: 100%;
			background: #fff;
		}






		.a a {
			color: #000;
			text-decoration: none;
			cursor: pointer;
			font-size: 18px;
		}

		.a {
			position: relative;
			/* margin: auto; */
			width: 100px;
			/* height: 40px; */
			line-height: 40px;
			text-align: center;
			color: #fff;
			font-size: 20px;
			border: 2px solid gold;
			border-radius: 10px;
			background: gold;
			transition: all .3s;
			cursor: pointer;
			margin-top: 20px;
			margin-left: 20px;
			z-index: 10;
		}

		.aw {
			z-index: 10;
			position: relative;
			/* margin: auto; */
			width: 140px;
			line-height: 64px;
			text-align: center;
			color: #fff;
			font-size: 20px;
			border: 2px solid gold;
			border-radius: 10px;
			background: gold;
			transition: all .3s;
			cursor: pointer;
			/* margin: 0 auto; */
			margin-top: -95px;
			margin-left: 650px;

		}

		/* 边框效果 */
		.a:hover {
			filter: contrast(1.1);
		}

		.a:active {
			filter: contrast(0.9);
		}

		.a::before,
		.a::after {
			content: "";
			position: absolute;
			top: -10px;
			left: -10px;
			right: -10px;
			bottom: -10px;
			border: 2px solid gold;
			transition: all .5s;
			animation: clippath 3s infinite linear;
			border-radius: 10px;
		}

		.a::after {
			animation: clippath 3s infinite -1.5s linear;
		}

		@keyframes clippath {

			0%,
			100% {
				clip-path: inset(98% 0 0 0);


			}

			25% {
				clip-path: inset(0 98% 0 0);

			}

			50% {
				clip-path: inset(0 0 98% 0);
			}

			75% {
				clip-path: inset(0 0 0 98%);
			}
		}

		.bg::before {
			background: rgba(255, 215, 0, .5);
		}



		/* 温馨提醒框 */
		.t {
			position: absolute;
			top: 110px;
			left: 400px;
			width: 600px;
			height: 390px;
			/* border: 1px solid red; */
			z-index: 10;
			background-color: #e5e5e5;
			padding: 15px;
			display: none;
			overflow: hidden;
		}

		.t img {
			position: absolute;
			bottom: -30px;
			right: -30px;
			width: 80px;
			cursor: pointer;


		}

		.t p {
			font-size: 18px;
			text-align: left;
			margin-bottom: 5px;
			padding-left: 20px;
		}

		.t p:first-child {
			padding-left: 0;
			text-align: center;
		}

		.t input {
			font-size: 25px;
			background-color: #e5e5e5;
			border-radius: 5px;
			margin-top: 50px;
			margin-left: 260px;


			line-height: 1.499;
			position: relative;
			display: inline-block;
			font-weight: 400;
			white-space: nowrap;
			text-align: center;
			background-image: none;
			border: 1px solid transparent;
			-webkit-box-shadow: 0 2px 0 rgba(0, 0, 0, 0.015);
			box-shadow: 0 2px 0 rgba(0, 0, 0, 0.015);
			cursor: pointer;
			-webkit-transition: all .3s cubic-bezier(.645, .045, .355, 1);
			transition: all .3s cubic-bezier(.645, .045, .355, 1);
			-webkit-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
			user-select: none;
			-ms-touch-action: manipulation;
			touch-action: manipulation;
			height: 32px;
			padding: 0 15px;
			font-size: 14px;
			border-radius: 4px;
			color: rgba(0, 0, 0, 0.65);
			background-color: #fff;
			border-color: #d9d9d9;

			color: #fff;
			background-color: #FF5A44;
			border-color: #FF5A44;
			text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.12);
			-webkit-box-shadow: 0 2px 0 rgba(0, 0, 0, 0.045);
			box-shadow: 0 2px 0 rgba(0, 0, 0, 0.045);
		}

		/* 边框效果 */
		.border-image-clip-path {
			/* width: 200px; */
			/* height: 100px; */
			margin: auto;
			border: 6px solid;
			border-image: linear-gradient(45deg, gold, deeppink) 1;
			clip-path: inset(0px round 10px);
			animation: huerotate 6s infinite linear;
			filter: hue-rotate(360deg);
		}

		@keyframes huerotate {
			0% {
				filter: hue-rotate(0deg);
			}

			100% {
				filter: hue-rorate(360deg);
			}
		}
	</style>
	<script type="text/javascript" src="ge1doot.js"></script>
	<script type="text/javascript">
		/* 
		* ==============================================================
		* CANVAS 3D experiment - 
		* http://keleyi.com/
		* Author Gerard Ferrandez - 7 June 2010
		* ------------------------------------------------------------
		* Javascript released under the MIT license
		* http://keleyi.com
		* Last updated: 12 Dec 2012
		* ===============================================================
		*/

		"use strict";

		(function () {
			/* ==== definitions ==== */
			var diapo = [], layers = [], ctx, pointer, scr, camera, light, fps = 0, quality = [1, 2],
				// ---- poly constructor ----
				Poly = function (parent, face) {
					this.parent = parent;
					this.ctx = ctx;
					this.color = face.fill || false;
					this.points = [];
					if (!face.img) {
						// ---- create points ----
						for (var i = 0; i < 4; i++) {
							this.points[i] = new ge1doot.transform3D.Point(
								parent.pc.x + (face.x[i] * parent.normalZ) + (face.z[i] * parent.normalX),
								parent.pc.y + face.y[i],
								parent.pc.z + (face.x[i] * parent.normalX) + (-face.z[i] * parent.normalZ)
							);
						}
						this.points[3].next = false;
					}
				},
				// ---- diapo constructor ----
				Diapo = function (path, img, structure) {
					// ---- create image ----
					this.img = new ge1doot.transform3D.Image(
						this, path + img.img, 1, {
						isLoaded: function (img) {
							img.parent.isLoaded = true;
							img.parent.loaded(img);
						}
					}
					);
					this.visible = false;
					this.normalX = img.nx;
					this.normalZ = img.nz;
					// ---- point center ----
					this.pc = new ge1doot.transform3D.Point(img.x, img.y, img.z);
					// ---- target positions ----
					this.tx = img.x + (img.nx * Math.sqrt(camera.focalLength) * 20);
					this.tz = img.z - (img.nz * Math.sqrt(camera.focalLength) * 20);
					// ---- create polygons ----
					this.poly = [];
					for (var i = -1, p; p = structure[++i];) {
						layers[i] = (p.img === true ? 1 : 2);
						this.poly.push(
							new Poly(this, p)
						);
					}
				},
				// ---- init section ----
				init = function (json) {
					// draw poly primitive
					Poly.prototype.drawPoly = ge1doot.transform3D.drawPoly;
					// ---- init screen ----
					scr = new ge1doot.Screen({
						container: "canvas"
					});
					ctx = scr.ctx;
					scr.resize();
					// ---- init pointer ----
					pointer = new ge1doot.Pointer({
						tap: function () {
							if (camera.over) {
								if (camera.over === camera.target.elem) {
									// ---- return to the center ----
									camera.target.x = 0;
									camera.target.z = 0;
									camera.target.elem = false;
								} else {
									// ---- goto diapo ----
									camera.target.elem = camera.over;
									camera.target.x = camera.over.tx;
									camera.target.z = camera.over.tz;
									// ---- adapt tesselation level to distance ----
									for (var i = 0, d; d = diapo[i++];) {
										var dx = camera.target.x - d.pc.x;
										var dz = camera.target.z - d.pc.z;
										var dist = Math.sqrt(dx * dx + dz * dz);
										var lev = (dist > 1500) ? quality[0] : quality[1];
										d.img.setLevel(lev);
									}
								}
							}
						}
					});
					// ---- init camera ----
					camera = new ge1doot.transform3D.Camera({
						focalLength: Math.sqrt(scr.width) * 10,
						easeTranslation: 0.025,
						easeRotation: 0.06,
						disableRz: true
					}, {
						move: function () {
							this.over = false;
							// ---- rotation ----
							if (pointer.isDraging) {
								this.target.elem = false;
								this.target.ry = -pointer.Xi * 0.01;
								this.target.rx = (pointer.Y - scr.height * 0.5) / (scr.height * 0.5);
							} else {
								if (this.target.elem) {
									this.target.ry = Math.atan2(
										this.target.elem.pc.x - this.x,
										this.target.elem.pc.z - this.z
									);
								}
							}
							this.target.rx *= 0.9;
						}
					});
					camera.z = -10000;
					camera.py = 0;
					// ---- create images ----
					for (var i = 0, img; img = json.imgdata[i++];) {
						diapo.push(
							new Diapo(
								json.options.imagesPath,
								img,
								json.structure
							)
						);
					}
					// ---- start engine ---- >>>
					setInterval(function () {
						quality = (fps > 50) ? [2, 3] : [1, 2];
						fps = 0;
					}, 1000);
					run();
				},
				// ---- main loop ----
				run = function () {
					// ---- clear screen ----
					ctx.clearRect(0, 0, scr.width, scr.height);
					// ---- camera ----
					camera.move();
					// ---- draw layers ----
					for (var k = -1, l; l = layers[++k];) {
						light = false;
						for (var i = 0, d; d = diapo[i++];) {
							(l === 1 && d.draw()) ||
								(d.visible && d.poly[k].draw());
						}
					}
					// ---- cursor ----
					if (camera.over && !pointer.isDraging) {
						scr.setCursor("pointer");
					} else {
						scr.setCursor("move");
					}
					// ---- loop ----
					fps++;
					requestAnimFrame(run);
				};
			/* ==== prototypes ==== */
			Poly.prototype.draw = function () {
				// ---- color light ----
				var c = this.color;
				if (c.light || !light) {
					var s = c.light ? this.parent.light : 1;
					// ---- rgba color ----
					light = "rgba(" +
						Math.round(c.r * s) + "," +
						Math.round(c.g * s) + "," +
						Math.round(c.b * s) + "," + (c.a || 1) + ")";
					ctx.fillStyle = light;
				}
				// ---- paint poly ----
				if (!c.light || this.parent.light < 1) {
					// ---- projection ----
					for (
						var i = 0;
						this.points[i++].projection();
					);
					this.drawPoly();
					ctx.fill();
				}
			}
			/* ==== image onload ==== */
			Diapo.prototype.loaded = function (img) {
				// ---- create points ----
				var d = [-1, 1, 1, -1, 1, 1, -1, -1];
				var w = img.texture.width * 0.5;
				var h = img.texture.height * 0.5;
				for (var i = 0; i < 4; i++) {
					img.points[i] = new ge1doot.transform3D.Point(
						this.pc.x + (w * this.normalZ * d[i]),
						this.pc.y + (h * d[i + 4]),
						this.pc.z + (w * this.normalX * d[i])
					);
				}
			}
			/* ==== images draw ==== */
			Diapo.prototype.draw = function () {
				// ---- visibility ----
				this.pc.projection();
				if (this.pc.Z > -(camera.focalLength >> 1) && this.img.transform3D(true)) {
					// ---- light ----
					this.light = 0.5 + Math.abs(this.normalZ * camera.cosY - this.normalX * camera.sinY) * 0.6;
					// ---- draw image ----
					this.visible = true;
					this.img.draw();
					// ---- test pointer inside ----
					if (pointer.hasMoved || pointer.isDown) {
						if (
							this.img.isPointerInside(
								pointer.X,
								pointer.Y
							)
						) camera.over = this;
					}
				} else this.visible = false;
				return true;
			}
			return {
				// --- load data ----
				load: function (data) {
					window.addEventListener('load', function () {
						ge1doot.loadJS(
							"imageTransform3D.js",
							init, data
						);
					}, false);
				}
			}
		})().load({
			imgdata: [

				// north
				{ img: '1 (1).png', x: -1000, y: 0, z: 1500, nx: 0, nz: 1 },
				{ img: '1 (2).png', x: 0, y: 0, z: 1500, nx: 0, nz: 1 },
				{ img: '1 (3).png', x: 1000, y: 0, z: 1500, nx: 0, nz: 1 },
				// east
				{ img: '1 (4).png', x: 1500, y: 0, z: 1000, nx: -1, nz: 0 },
				{ img: '1 (5).png', x: 1500, y: 0, z: 0, nx: -1, nz: 0 },
				{ img: '1 (6).png', x: 1500, y: 0, z: -1000, nx: -1, nz: 0 },
				// sout
				{ img: '1 (7).png', x: 1000, y: 0, z: -1500, nx: 0, nz: -1 },
				{ img: '1 (8).png', x: 0, y: 0, z: -1500, nx: 0, nz: -1 },
				{ img: '1 (9).png', x: -1000, y: 0, z: -1500, nx: 0, nz: -1 },
				// west
				{ img: '1 (10).png', x: -1500, y: 0, z: -1000, nx: 1, nz: 0 },
				{ img: '1 (11).png', x: -1500, y: 0, z: 0, nx: 1, nz: 0 },
				{ img: '1 (12).png', x: -1500, y: 0, z: 1000, nx: 1, nz: 0 }
			],
			structure: [
				{
					// wall
					fill: { r: 255, g: 255, b: 255, light: 1 },
					x: [-1001, -490, -490, -1001],
					z: [-500, -500, -500, -500],
					y: [500, 500, -500, -500]
				}, {
					// wall
					fill: { r: 255, g: 255, b: 255, light: 1 },
					x: [-501, 2, 2, -500],
					z: [-500, -500, -500, -500],
					y: [500, 500, -500, -500]
				}, {
					// wall
					fill: { r: 255, g: 255, b: 255, light: 1 },
					x: [0, 502, 502, 0],
					z: [-500, -500, -500, -500],
					y: [500, 500, -500, -500]
				}, {
					// wall
					fill: { r: 255, g: 255, b: 255, light: 1 },
					x: [490, 1002, 1002, 490],
					z: [-500, -500, -500, -500],
					y: [500, 500, -500, -500]
				}, {
					// shadow
					fill: { r: 0, g: 0, b: 0, a: 0.2 },
					x: [-420, 420, 420, -420],
					z: [-500, -500, -500, -500],
					y: [150, 150, -320, -320]
				}, {
					// shadow
					fill: { r: 0, g: 0, b: 0, a: 0.2 },
					x: [-20, 20, 20, -20],
					z: [-500, -500, -500, -500],
					y: [250, 250, 150, 150]
				}, {
					// shadow
					fill: { r: 0, g: 0, b: 0, a: 0.2 },
					x: [-20, 20, 20, -20],
					z: [-500, -500, -500, -500],
					y: [-320, -320, -500, -500]
				}, {
					// shadow
					fill: { r: 0, g: 0, b: 0, a: 0.2 },
					x: [-20, 20, 10, -10],
					z: [-500, -500, -100, -100],
					y: [-500, -500, -500, -500]
				}, {
					// base
					fill: { r: 32, g: 32, b: 32 },
					x: [-50, 50, 50, -50],
					z: [-150, -150, -50, -50],
					y: [-500, -500, -500, -500]
				}, {
					// support
					fill: { r: 16, g: 16, b: 16 },
					x: [-10, 10, 10, -10],
					z: [-100, -100, -100, -100],
					y: [300, 300, -500, -500]
				}, {
					// frame
					fill: { r: 255, g: 255, b: 255 },
					x: [-320, -320, -320, -320],
					z: [0, -20, -20, 0],
					y: [-190, -190, 190, 190]
				}, {
					// frame
					fill: { r: 255, g: 255, b: 255 },
					x: [320, 320, 320, 320],
					z: [0, -20, -20, 0],
					y: [-190, -190, 190, 190]
				},
				{ img: true },
				{
					// ceilingLight
					fill: { r: 255, g: 128, b: 0 },
					x: [-50, 50, 50, -50],
					z: [450, 450, 550, 550],
					y: [500, 500, 500, 500]
				}, {
					// groundLight
					fill: { r: 255, g: 128, b: 0 },
					x: [-50, 50, 50, -50],
					z: [450, 450, 550, 550],
					y: [-500, -500, -500, -500]
				}
			],
			options: {
				imagesPath: ""
			}
		});
	</script>
</head>

<body>
	<div class="a"><a href="https://yhy-20200913.github.io/tai-ke-mei-jing/">泰科美景</a></div>
	<div class="a"><a href="https://yhy-20200913.github.io/shi-tang-te-se/">食堂特色</a></div>
	<div class="a aw"><a href="index.html">宿舍风采</a></div>
	<div class="t border-image-clip-path" id="t">
		<p>温馨提醒：</p>
		<p>1.为了你的体验效果更佳，建议用电脑浏览</p>
		<p>2.因学长没钱买服务器，网页加载较慢，会有卡顿，属于正常现象</p>
		<p>3.拖动浏览可360°，点击图片放大，再点击缩小</p>
		<p>4.办校园卡可以找我和我的组员，学长学姐们在为服务器奋斗，以便给</p>
		<p>&nbsp;&nbsp;&nbsp;学弟学妹们提供更好的体验</p>
		<p>5.如在使用过程中遇到问题请联系我(QQ:1578625920)</p>
		<img src="wx.png" alt="vx" id="im">
		<input type="button" value="收到" id="inpu">
	</div>
	<canvas id="canvas">你的浏览器不支持HTML5画布技术，请使用支持HTML5的浏览器(http://keleyi.com/a/bjac/g039tue3.htm)</canvas>
	<script>
		function my(id) {
			return document.getElementById(id);
		}

		my("inpu").onclick = function () {
			my("t").style.display = "none";
		}

		setTimeout('my("t").style.display = "block";', 3000);
		my("im").onclick = function () {
			my("im").style.bottom = "0";
			my("im").style.right = "0";
		}
		// 鼠标进出
		my("im").onmouseover = function () {
			my("im").style.bottom = "0";
			my("im").style.right = "0";
		};
		my("im").onmouseout = function () {
			my("im").style.bottom = "-30px";
			my("im").style.right = "-30px";
		};
	</script>
</body>

</html>